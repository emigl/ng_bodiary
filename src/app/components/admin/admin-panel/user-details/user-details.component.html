
 <section class="container text-center section-title pt-3 pb-3 ">
        <h2>Detalle del usuario</h2>
</section>
    <!-- TODO: Hacer un formulario donde se muestre la información, con unos botones para guardar, cancelar, y un select input para poner si está activo o no -->
    
    <!-- TODO: Hacer que entre el id del usuario por la ruta de la url en el componente para traerse los detalles del usuario con el AdminPanelService -->
    <section class="row w-100 detail-section justify-content-center align-items-center">
    <app-loading *ngIf="loadingUser"></app-loading>
    <mat-card class="col-sm-12 col-md-10 text-center card-mat pt-4">
        <form [formGroup]="editUserForm" (ngSubmit)="updateUser()">
            <div class="row justify-content-center">
                
                    <mat-form-field class="formField mb-2 w-75" appearance="fill">
                        <mat-label>Nombre completo</mat-label>
                        <input type="text" class="form-control" id="nameInput" formControlName="name" required matInput>
                        <mat-error *ngIf="editUserForm.get('name')?.hasError('required') && editUserForm.get('name')?.touched">
                            Introduce un nombre
                        </mat-error>
                        
                    </mat-form-field>
                    
                
                
                    <mat-form-field class="formField mb-3 w-75" appearance="fill">
                        <mat-label>Email</mat-label>
                        <input type="email" class="form-control" id="emailInput" formControlName="email" readonly  matInput>
                        
                    </mat-form-field>
                    
                    <mat-form-field class="formField mb-3 w-75" appearance="fill">
                        <mat-label>Activo</mat-label>
                        <select matNativeControl formControlName="isActive">
                            <option value="1">Si</option>
                          <option value="0">No</option>
                          </select>
                      </mat-form-field>
            
            </div>
            
            <div class="form-group d-flex justify-content-center">
                <!-- El routerLink tiene corchetes cuando el del login no lo tiene -->
                <button type="button" mat-stroked-button color="accent" [routerLink]="'/admin/controlPanel'" class="m-1 loginButton"><span class="button-text">Atrás</span></button>
    
                <button type="submit" mat-raised-button color="primary" class="m-1 loginButton" [disabled]="editUserForm.invalid">
                    
                    <span class="button-text" *ngIf="loading == false">Aceptar</span>
                    <span><app-loading *ngIf="loading"></app-loading></span>
                </button>
                <button type="button" mat-mini-fab color="warn" class="m-1 loginButton" (click)="deleteUser()">
                    <span class="material-icons">
                        delete
                    </span>
                </button>
    
            </div>
            
          </form>
        </mat-card>
    </section>

<app-footer-index></app-footer-index>