<section class="container-fluid p-0 d-flex justify-content-center align-content-center">
    <!-- <img class="background" src="assets/img/dumbbell-m-1280.jpg" alt="Imagen de fondo"> -->
       <div class="row">
           <h1 class="text-center mt-3 bodiary-title">Bodiary</h1>
           <h2 class="text-center mt-4 bodiary-subtitle">¡Apunta tus entrenamientos!</h2>

       </div>
    
    <div class="row w-100 justify-content-center align-items-center">
        <div class="col-sm-12 col-md-10 text-center card-mat pt-0">
            <h2 class="mb-3 registrarse">Registrarse</h2>
            <form [formGroup]="registerForm" (ngSubmit)="register()">
                <div class="row justify-content-center">
                    
                        <mat-form-field class="formField mb-2 w-75" appearance="fill">
                            <mat-label>Nombre completo</mat-label>
                            <input type="text" class="form-control" id="nameInput" formControlName="name" required matInput>
                            <mat-error *ngIf="registerForm.get('name')?.hasError('required') && registerForm.get('name')?.touched">
                                Introduce tu nombre para que podamos tratarte con él
                            </mat-error>
                            
                        </mat-form-field>
                        
                    
                    
                        <mat-form-field class="formField mb-3 w-75" appearance="fill">
                            <mat-label>Email</mat-label>
                            <input type="email" class="form-control" id="emailInput" formControlName="email" required  matInput>
                            <mat-error *ngIf="registerForm.get('email')?.hasError('required') && registerForm.get('email')?.touched">
                                Introduce un email
                            </mat-error>
                            <mat-error *ngIf="registerForm.get('email')?.hasError('email') && registerForm.get('email')?.touched">
                                Debes introducir un email
                            </mat-error>
                        </mat-form-field>

                
                </div>
                <div class="row justify-content-center">
                    
                        <mat-form-field class="formField mb-3 w-75" appearance="fill">
                            <mat-label>Contraseña</mat-label>
                            <input type="password" class="form-control" id="password" formControlName="password" matInput>
                            <mat-error *ngIf="registerForm.get('password')?.hasError('required') && registerForm.get('password')?.touched">
                                Introduce una contraseña
                            </mat-error>
                            
                            <mat-error *ngIf="registerForm.get('password')?.hasError('pattern') && registerForm.get('password')?.touched">
                                La contraseña debe tener 6 carácteres de longitud e incluir 1 mayúscula, 1 minúscula, 1 número, un carácter especial
                            </mat-error>
                        </mat-form-field>

                   
                        <mat-form-field class="formField mb-3 w-75" appearance="fill">
                            <mat-label>Repite contraseña</mat-label>
                            
                                
                            <input type="password" class="form-control" id="confirmPassword" formControlName="confirmPassword" [errorStateMatcher]="matcher" required matInput>
                          
                            <mat-error>
                                Las contraseñas no coinciden
                            </mat-error>

                        </mat-form-field>
                    

                </div>

                
                <div class="row form-group group-buttons mt-3 justify-content-center">
                    <!-- El routerLink tiene corchetes cuando el del login no lo tiene -->
                    <button type="button" mat-stroked-button color="primary" [routerLink]="'/index/login'" class="m-1 loginButton"><span class="button-text">Iniciar sesión</span></button>
    
                    <button type="submit" mat-raised-button color="primary" class="m-1 loginButton" [disabled]="registerForm.invalid">
                        
                        <span class="button-text" *ngIf="loading == false">Registrarse</span>
                        <span><app-loading *ngIf="loading"></app-loading></span>
                    </button>

                </div>
                
              </form>
        
        </div>
    </div>
    
</section>
<app-footer-index></app-footer-index>